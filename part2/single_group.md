# 分组替换（单一组）

分组可以在sed中使用，就像在正常的正则表达式中一样。一个组以"\\("打开，以"\\)"关闭。分组可以与
反向引用结合使用。<br/>

反向引用是重用正则表达式的一部分通过分组进行选择。sed中的反向引用可以在正则表达式中使用，
也可以在替换命令的替换部分中使用。

__单组__:

```
$ sed 's/\([^,]*\).*/\1/g' employee.txt
101
102
103
104
105
```

在上面的例子中:
  * 正则表达式 \\(\[^,\]\*\\) 匹配直到遇到第1个逗号。
  * 替换部分的\1反向引用第1个匹配到的组
  * g是全局替换标志

----

__这个sed示例只显示/etc/passwd文件的第一个字段，即只显示用户名__:

```
sed 's/\([^:]*\).*/\1/' /etc/passwd
```

----

__以下示例将每个单词中的第一个字母用()括起来，在第1个字母是大写的情况下__:

```
$ echo "The Geek Stuff" | sed 's/\(\b[A-Z]\)/\(\1\)/g'
(T)he (G)eek (S)tuff
```

----

在接下来的例子中，我们创建一个number.txt的文件。

```
$ vi numbers.txt
1
12
123
1234
12345
123456
```

__通用数字，插入逗号使其更具可读性__:

```
$ sed 's/\(^\|[^0-9.]\)\([0-9]\+\)\([0-9]\{3\}\)/\1\2,\3/g' numbers.txt
1
12
123
1,234
12,345
123,456
```

